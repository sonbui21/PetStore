@model LoggedOutViewModel

@{
	// set this so the layout rendering sees an anonymous user
	ViewData["signed-out"] = true;
}

<div class="container">
	<div class="row justify-content-center" style="padding-top:100px; padding-bottom:100px">
		<div class="col-lg-8 col-md-10">
			<div class="justify-content-center">
				<h1>
					Logout
					<small>You are now logged out</small>
				</h1>

				@if (Model.PostLogoutRedirectUri != null)
				{
					<div>
						Click <a class="PostLogoutRedirectUri" href="@Model.PostLogoutRedirectUri">here</a> to return to the
						<span>@Model.ClientName</span> application.
					</div>
				}
				else
				{
					<span>
						Click <a href="~/">here</a> to back to Homepage.
					</span>
				}

				@if (Model.SignOutIframeUrl != null)
				{
					<iframe width="0" height="0" class="signout" src="@Model.SignOutIframeUrl"></iframe>
				}
			</div>
		</div>

	</div>
</div>


@section scripts
{
	@if (Model.AutomaticRedirectAfterSignOut)
	{
		<script>
			window.addEventListener("load", function () {
				var a = document.querySelector("a.PostLogoutRedirectUri");
				if (a) {
					window.location = a.href;
				}
			});
		</script>
	}
}
